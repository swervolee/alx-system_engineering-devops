#!/usr/bin/env bash
#process manager


if [ $# -ne 1 ]
then
	echo "Usage: manage_my_process {start|stop|restart}"
	exit 1
fi

cm="$1"
file="/var/run/my_process.pid"

if [ "$cm" = start ]
then
	./manage_my_process &
	echo "$!" >"$file"
	echo "manage_my_process started"
elif [ "$cm" = stop ]
then
	rm "$file"
	echo "manage_my_process stopped"
	pkill -f manage_my_process
elif [ "$cm" = restart ]
then
        pkill -f manage_my_process
	rm "$file"
	./manage_my_process &
	echo "$!" >"$file"
	echo "manage_my_process started"
else
    echo "Usage: manage_my_process {start|stop|restart}"
    exit 1
fi
